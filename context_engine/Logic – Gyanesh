# Context Engine

Owner: Gyanesh

context_engine.py

# SECURION - Context Logic Engine
# Member-2 : Gyanesh
# Role : Risk Engine

print("SECURION Context Engine Started")

import datetime

def get_securion_risk(face_detected, zone):
    # Mathematics: Time Window T = [22, 8]
    now = datetime.datetime.now()
    hour = now.hour
    
    # Strictly 10 PM (22) to 8 AM (8)
    is_restricted_time = hour >= 22 or hour < 8
    
    risk_score = 0
    status = "NORMAL"
    
    if face_detected:
        # [span_1](start_span)Base Face Detection Score[span_1](end_span)
        risk_score += 50 
        
        # [span_2](start_span)Time Factor (Weightage = 20)[span_2](end_span)
        if is_restricted_time:
            risk_score += 20
            
        # [span_3](start_span)Zone Factor (Weightage = 30)[span_3](end_span)
        if zone == "RESTRICTED":
            risk_score += 30

    # [span_4](start_span)Final Risk Level Calculation[span_4](end_span)
    if risk_score >= 80:
        status = "âš ï¸ CRITICAL ALERT"
    elif risk_score >= 50:
        status = "ðŸ”” WARNING"
        
    return status, risk_score, now.strftime("%H:%M:%S")

# --- AUTO-RUN TEST ---
# Maan lo abhi test kar rahe hain: Face Detect hua Restricted Zone mein
res_status, res_score, res_time = get_securion_risk(True, "RESTRICTED")

print("="*30)
print(f"SECURION SYSTEM LOG")
print("="*30)
print(f"Time of Detection: {res_time}")
print(f"Risk Score: {res_score}/100")
print(f"System Status: {res_status}")
print("="*30)
